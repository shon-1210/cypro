<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • cypro</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="cypro">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cypro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/about.html">About</a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li>
  <a href="../articles/terminology.html">Terminology</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">The cypro object</li>
    <li>
      <a href="../articles/getting-started.html">Experiment design and data loading</a>
    </li>
    <li>
      <a href="../articles/subsetting.html">Create data subsets</a>
    </li>
    <li>
      <a href="../articles/extract-data.html">Extract data and information</a>
    </li>
    <li>
      <a href="../articles/renaming.html">Rename content</a>
    </li>
    <li>
      <a href="../articles/variable-sets.html">Variable sets</a>
    </li>
    <li class="dropdown-header">Analysis &amp; Profiling</li>
    <li>
      <a href="../articles/dim-red.html">Dimensionality reduction</a>
    </li>
    <li>
      <a href="../articles/correlation.html">Correlation</a>
    </li>
    <li>
      <a href="../articles/clustering.html">Clustering</a>
    </li>
    <li>
      <a href="../articles/plotting-stats.html">Statistical tests and pltos</a>
    </li>
    <li class="dropdown-header">Modules</li>
    <li>
      <a href="../articles/module-migration.html">Migration</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/theMILOlab/cypro/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="getting-started_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/theMILOlab/cypro/blob/master/vignettes/getting-started.Rmd" class="external-link"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="hidden name"><code>getting-started.Rmd</code></div>

    </div>

    
    
<p>The center of <code>cypro</code> is an S4-object of class <em>cypro</em>. It contains all information about the experiment set design as well as the data. This tutorial explains the basic of its structure and most importantly how to create it.</p>
<div id="experiment-design" class="section level2">
<h2 class="hasAnchor">
<a href="#experiment-design" class="anchor" aria-hidden="true"></a>1. Experiment design</h2>
<p>Every analysis initiation in <code>cypro</code> begins with the function <code><a href="../reference/designExperiment.html">designExperiment()</a></code>. It opens an interactive application as shown in Figure 1.1 in which the experiment design can be specified. This includes the experiment type (timelapse or one time imaging) and the well plate design.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cypro</span><span class="op">)</span>

<span class="co"># call the function (without any argument specification)</span>
<span class="va">object_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/designExperiment.html">designExperiment</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="images/exp-des-all.PNG" alt="Figure 1.1 Interface of the function designExperiment()" width="100%"><p class="caption">
Figure 1.1 Interface of the function designExperiment()
</p>
</div>
<div id="overall-information" class="section level3">
<h3 class="hasAnchor">
<a href="#overall-information" class="anchor" aria-hidden="true"></a>1.1 Overall Information</h3>
<p>This part includes basic information as the name of the experiment and a folder in which to store the object by default. Additionally, you provide an example file and denote the name of the identifier variables (Cell ID and in case of timelapse experiments needed Image Frame).</p>
<div class="figure">
<img src="images/exp-des-overall-info.PNG" alt="Figure 1.2 Provide overall information and an example file" width="50%"><img src="images/exp-des-example-data.PNG" alt="Figure 1.2 Provide overall information and an example file" width="50%"><p class="caption">
Figure 1.2 Provide overall information and an example file
</p>
</div>
</div>
<div id="imaging-set-up-1-3-experiment-phases" class="section level3">
<h3 class="hasAnchor">
<a href="#imaging-set-up-1-3-experiment-phases" class="anchor" aria-hidden="true"></a>1.2 Imaging Set Up &amp; 1.3 Experiment Phases</h3>
<p>Providing information about the imaging set up is only necessary in case of timelapse experiment data. (The set up of one time imaging will always be the same - one image).</p>
<div class="figure">
<img src="images/exp-des-imaging-set-up-not-required.PNG" alt="Figure 1.3 Imaging set up not required." width="100%"><p class="caption">
Figure 1.3 Imaging set up not required.
</p>
</div>
<p>In case of timelapse experiments you can specify the set up and, in particular, if any kind of timedisplaced changes in the conditions have taken place during the imaging process. In <code>cypro</code> we refer to that as <em>phases</em>. In this example the experiment was split in two phases whereby the second phase started from the ninth image.</p>
<div class="figure">
<img src="images/exp-des-imaging-set-up.PNG" alt="Figure 1.4 Imaging set up and experiment phases must be specified." width="100%"><p class="caption">
Figure 1.4 Imaging set up and experiment phases must be specified.
</p>
</div>
</div>
<div id="well-plate-set-up" class="section level3">
<h3 class="hasAnchor">
<a href="#well-plate-set-up" class="anchor" aria-hidden="true"></a>1.4 Well Plate Set Up</h3>
<p>The fourth module of <code><a href="../reference/designExperiment.html">designExperiment()</a></code> lets you design the well plates used for the experiment including cell line and condition.</p>
<div class="figure">
<img src="images/exp-des-wp-set-up.PNG" alt="Figure 1.5 Design well plates interactively." width="100%"><p class="caption">
Figure 1.5 Design well plates interactively.
</p>
</div>
<p>You can design as many well plates as your experiment design contained and add them repeatedly with the ‘Add Well Plate’ button. Once you are done. Click on save ‘Save &amp; Proceed’ and then on the ‘Return Celltracer Object’ that should have turned green by now.</p>
<div class="figure">
<img src="images/exp-des-saved.PNG" alt="Figure 1.6 Save the experimetn design." width="100%"><p class="caption">
Figure 1.6 Save the experimetn design.
</p>
</div>
</div>
</div>
<div id="load-data" class="section level2">
<h2 class="hasAnchor">
<a href="#load-data" class="anchor" aria-hidden="true"></a>2. Load Data</h2>
<p>The experiment design is now stored in the <em>cto</em>-object called <code>object_design</code>. You can’t do any analysis and visualization with it yet as it does not contain any loaded data. To load data use the function <code><a href="../reference/loadData.html">loadData()</a></code>.</p>
<p><code><a href="../reference/loadData.html">loadData()</a></code> again opens a user interface. Here you can assign a folder to each well plate designed in the previous step. <code>cypro</code> will then skim the folder and all its subfolders for data files that match the well names and the covererd area of the well. It takes the folder (here represented by ‘~/’) you assign to every well plate and skims its content for files that end according to the following syntax:</p>
<ul>
<li>~/some_text_**‘Well’_‘Covered-Area-Index’.’filetype’**</li>
</ul>
<p>Valid examples would be:</p>
<ul>
<li>~/A1_1.csv</li>
<li>~/this_is_a_valid_filename_G3_2.xlsx</li>
<li>~/hidden/in/subfolders/H2_2.csv</li>
</ul>
<p>Invalid examples:</p>
<ul>
<li>~/A1-1.csv (does not use _ as a separator)</li>
<li>~/does_not_end_A1_1_accordingly.xls (the file name does not end with the well description)</li>
</ul>
<div class="figure">
<img src="images/load-data-all.PNG" alt="Figure 2.1 The interface of loadData()" width="100%"><p class="caption">
Figure 2.1 The interface of loadData()
</p>
</div>
<p>Once the folder is assigned <code>cypro</code> evaluates by well how many of the expected files were found and indicates that by plotting the well plate colored according to the file availability. For instance, the well plate designed in ‘1.4 Well Plate Set Up’ contained files for rows A-H and columns 1-6. The input box ‘Covered Areas per Well’ was set to 3. <code>cypro</code> therefore expects to find three files for every well named according to the syntax mentioned above. Depending on the number of matching files found one of the four colors appear:</p>
<ul>
<li><p>Green: All files were found for that well.</p></li>
<li><p>Yellow: Some files were found for that well.</p></li>
<li><p>Red: No files were found for that well.</p></li>
<li><p>Blue: More than the expected number of files were found. This can happen if files are stored in subfolders and accidentally were named equally.</p></li>
</ul>
<p>For instance files ~/subfolder1/A1_1.csv and ~/subfolder2/A1_1.csv would result in well A1 appearing blue.</p>
<div class="figure">
<img src="images/load-data-assigned.PNG" alt="Figure 2.2 Files for well plate rows B, C and D were not found." width="100%"><p class="caption">
Figure 2.2 Files for well plate rows B, C and D were not found.
</p>
</div>
<p>Missing and incomplete wells do not prevent you from loading the data. If you realize that some files are missing, check for their names, correct what needs to be corrected and then assign the folder again. The file availability is reevaluated and colors should change accordingly. Once all well plates have a folder assigned to them and no ambiguous files were found the box ‘Well Plate Status’ turns green indicating that the data is ready to be loaded. The example well plate in Figure 2.2 has missing files for rows B, C and G. Data can still be loaded as indicated by the green box. This would simply result in missing data for the respective wells.</p>
<p>After clicking on ‘Load Data’ a progress bar is going to appear in the lower right corner indicating the loading progress. While being loaded all files are checked to match the requirements set up in step 1.1 Overall Information. This includes in particular checking if the loaded table contains all variables (columns) specified. If any errors occur during the loading process they are presented in the box ‘Load Files &amp; Proceed’ in combination with the error message returned.</p>
<p><img src="images/load-data-save.PNG" width="565"></p>
<p>Again, you can choose to ignore failed files and simply proceed without them by clicking on ‘Save &amp; Proceed’ and then on ‘Return Celltracer Object’. If possible you can fix the reason that prevented <code>cypro</code> from reading the file successfully and click on ‘Load Data’ again.</p>
</div>
<div id="check-data-quality" class="section level2">
<h2 class="hasAnchor">
<a href="#check-data-quality" class="anchor" aria-hidden="true"></a>3. Check Data Quality</h2>
<p>This step only applies to timelapse experiments. Skip it if your experiment is of type <em>One time imaging</em>.</p>
<p>Image processing softwares can not detect cells that moved out of the cameras range during the imaging timespan as the image simply does not cover them.Moreover cells can move from outside of the cameras range into its field of view during the experiment. Or cells can emerge by mitosis. There are many ways why your data could include incomplete tracks. Depending on the question at hand you might want to remove cells that were covered poorly.</p>
<p>The function <code><a href="../reference/checkDataQuality.html">checkDataQuality()</a></code>opens an interface presenting you four histograms visualizing summary statistics of each track. Here you can set coverage thresholds.</p>
<div class="figure">
<img src="images/check-data-quality.PNG" alt="Figure 3.1 Interface of checkDataQuality()" width="946"><p class="caption">
Figure 3.1 Interface of checkDataQuality()
</p>
</div>
<p>Figure 3.1 shows that the coverage of the loaded data went quite well as all cells had their first measurement during the first image taken - no cells sneaked in the cameras field of view during the experiment. Only a few cells skipped a measurement - left the field of view and then returned.</p>
<p>You can interactively set the threshold by brushing the columns of interest. <code>cypro</code> combines the requirements you set up this way and filters all cells accordingly. The resulting number of remaining cells is displayed below after clicking on ‘Apply Filter’. If you don’t want to filter anything click on ‘Apply Filter’ without specifying anything on the four plots which effectively sets the filter to ‘No filter’.</p>
<div class="figure">
<img src="images/check-data-quality-save.PNG" alt="Figure 3.2 Filter out cells that were covered poorly" width="782"><p class="caption">
Figure 3.2 Filter out cells that were covered poorly
</p>
</div>
</div>
<div id="process-data" class="section level2">
<h2 class="hasAnchor">
<a href="#process-data" class="anchor" aria-hidden="true"></a>4. Process Data</h2>
<p>The last step does not require you to do anything interactively. <code><a href="../reference/processData.html">processData()</a></code> sorts the loaded and checked data into the respective slot, does some computation and eventually returns a <em>cto</em> object that is ready be used for all functionalities that fit the data loaded.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">final_object</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/processData.html">processData</a></span><span class="op">(</span><span class="va">data_checked</span><span class="op">)</span></code></pre></div>
<p>For basic summaries of your <em>cto</em> use <code><a href="../reference/printSummary.html">printSummary()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/printSummary.html">printSummary</a></span><span class="op">(</span><span class="va">final_object</span><span class="op">)</span></code></pre></div>
<pre><code>## An object of class 'cypro'.
## 
## Name: Hypoxia-Example
## Type: Time Lapse
## Number of Cells: 6694
## Conditions:
##  First phase: 'none'
##  Second phase: 'hypoxia'
## Cell Lines: '233' and 'GSC'
## Well Plates: 'mCherry-red'
## No variables sets have been defined yet.</code></pre>
<p>We recommend to immediately use <code><a href="../reference/saveCyproObject.html">saveCyproObject()</a></code> after being done with the initiating steps. <code><a href="../reference/saveCyproObject.html">saveCyproObject()</a></code> looks up the default directory inside the <em>cypro</em> object that has been assembled by the storage directory and the experiment name provided in step ‘1.1 Overall Information’ and saves the object there. If you wish to save the object under a different directory you can change the default with <code>setDefaultDirectory()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># change the default directory if desired</span>
<span class="va">object</span> <span class="op">&lt;-</span> <span class="fu">setDefaultDirectoy</span><span class="op">(</span>object <span class="op">=</span> <span class="va">final_object</span>, directory_cto <span class="op">=</span> <span class="st">"desired/directory-for-my-object.RDS"</span><span class="op">)</span>

<span class="co"># save the object conveniently</span>
<span class="fu"><a href="../reference/saveCyproObject.html">saveCyproObject</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">final_object</span><span class="op">)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jan Kueckelhaus, Dieter-Henrik Heiland.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
